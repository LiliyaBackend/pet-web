<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Items to calculate</title>
    <script src="/static/jquery-1.11.3.js"></script>
    <script>
        function addToCart(item_id, btn){
            opr = $(btn).parents("tr").find(".operand").val();
            $.ajax({
                type:"POST",
                url: "/add_to_cart",
                data: {
                    id:item_id,
                    operand:opr
                },
                success: function (msg){
                    $("#itemCnt").text(msg);
                }
            })
        }
    </script>
</head>
<body>
{% include 'header.html' %}

{% if error is not none%}
    <h2 style="color:red">{{error}}</h2>
{% endif %}
<table border="1">
<tr><th>â„–</th><th>Function</th><th>Parameter</th><th>Add</th></tr>

{% for item in items %}
<tr>
    <td>{{loop.index}}</td>
    <td>{{item.name}}</td>
    <td><input type="text" name="operand" value="" class="operand"></td>
    <td><input type="button" value="add" onclick="addToCart({{item.id}}, this)"></td>
</tr>

{% endfor %}
</table>
</body>
</html>
